Sensapp-Acceptance v0.1 
(C) 2014 - SINTEF ICT

  SensApp acceptance wraps a series of JUnit4 tests that verifies that
  a given deployment of SensApp is operational.

  These tests are end-to-end tests and will interact with a SensApp
  instance through the network, and potentially through the browser. A
  complete run of the test suite may take several minutes.


CONTENTS
--------
 
 1. Contact
 2. Where to download 'sensapp-acceptance'?
 3. How to use 'sensapp-acceptance'?
 4. How to develop 'sensapp-acceptance'?
    4.1 How to build?
    4.2 How to release?
 5. TODOs


1. CONTACT
----------

  Please report any bugs or desired feature at:

    https://github.com/SINTEF-9012/sensapp-acceptance/issues


  Should you need any additional information, please contact:

    Franck CHAUVEL 
    Research Scientist - SINTEF ICT
    franck.chauvel@sintef.no


2. WHERE TO DOWNLOAD?
---------------------

  Stable releases are available on the Github page of the project:

    https://github.com/SINTEF-9012/sensapp-acceptance/releases


  In addition, a binary distribution, continuously updated, is
  available at:

    http://dist.thingml.org/sensapp/sensapp-acceptance-0.2-SNAPSHOT-jar-with-dependencies.jar



3. HOW TO USE SENSAPP-ACCEPTANCE?
---------------------------------
 
  NOTE: SensApp-acceptance requires Firefox be installed.

  SensApp-Acceptance run a series of tests against a deployment of
  SensApp, described in a property file.

    $> java -jar sensapp-acceptance.jar sensapp.properties

  In the above example, the given property file 'sensapp.properties'
  contains:

    $> cat sensapp.properties
    admin: http://demo.sensapp.org/admin
    notifier: http://demo.sensapp.org/notifier
    registry: http://demo.sensapp.org/registry
    storage: http://demo.sensapp.org/storage
    dispatcher: http://demo.sensapp.org/dispatcher 

  where you would have placed the URLs of the endpoints of the SensApp
  instance you want to test. A complete example is available at:

    https://github.com/SINTEF-9012/sensapp-acceptance/blob/master/src/test/resources/endPoints-minicloud.properties


4. HOW TO DEVELOP SENSAPP-ACCEPTANCE?
-------------------------------------

  4.1 How to build?

  SensApp-Acceptance is an open source application whose source are
  available on-line, and can be retrieved from github using:

    $> git clone https://github.com/SINTEF-9012/sensapp-acceptance

  SensApp-Acceptance is a regular Maven application, which can be
  built, packaged and deployed using the 'mvn' command:

    $> mvn clean package


  4.2 How to release?

  Before to create a release, one should ensure the following:

     - Read/write access to the git repository 

     - Valid credentials to connect on the "deployment" server are
       configured in .m2/settings.xml

  The configuration of the SCM maven plugin can be tested using the
  following command:

    $> mvn scm:validate

  Under Windows, one shall set up an ssh agent to avoid that the git
  command hang waiting for a passphrase. The following commands are
  necessary (run on the git-bash):

    $> eval `ssh-agent`
    $> env | grep SSH
    $> ssh-add "/c/Users/franckc/.ssh/id_rsa"
       enter passphrase : XXXXXXXX

  The Maven release plugin can be run in a "dryRun" mode using the
  option '-DdryRun=true-'. We recommend to get the 'dry run' before to
  run the 'release:prepare' command.

    $> mvn --batch-mode release:prepare -DreleaseVersion=0.1 -DdevelopmentVersion=0.2-SNAPSHOT

    $> mvn release:perform

  If anything goes wrong during the prepare or perform command, on can
  revert the info committed in the repository using the following
  commands:

    $> git reset --hard <id of the commit you want to reset to>
    $> git push origin master --force

  Tags that have been created by the release plugin will not be removed
  by the previous commands, and must remove manually, as shown
  below. The first command retrieves all the existing tags, and the
  next two remove and publish the removal respectively.

    $> git tag
    my-app-0.1
    $> git tag -d my-app-0.1
    $> git push origin :refs/tags/my-app-0.1


5 TODOs
-------
 
 - Refactor to remove the EndPointFile class
